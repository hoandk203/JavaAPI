<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Website CRUD</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div style="margin-top: 100px; margin-left: 10em; margin-right: 10em">
      <h1 style="text-align: center; margin: 20px 0">Danh sách</h1>

      <!-- Khối chứa thông báo thành công -->
      <div
        id="alertContainer"
        style="
          display: none;
          text-align: center;
          padding: 10px;
          border-radius: 5px;
          margin-bottom: 20px;
        "
      ></div>

      <!-- Thanh tìm kiếm -->
      <div style="margin-bottom: 20px">
        <input
          type="text"
          id="searchInput"
          placeholder="Tìm kiếm..."
          style="
            padding: 10px;
            width: 80%;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
          "
        />
        <!-- Gọi hàm searchEmployees() khi người dùng nhấn nút tìm kiếm -->
        <button
          onclick="searchEmployees()"
          style="
            padding: 10px 20px;
            background-color: blue;
            color: white;
            border: none;
            border-radius: 5px;
          "
        >
          Tìm kiếm
        </button>
      </div>

      <!-- Liên kết đến trang để thêm mới -->
      <div>
        <a
          href="add.html"
          style="
            display: block;
            margin: 20px auto;
            text-align: center;
            text-decoration: none;
            background-color: blue;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            width: max-content;
            float: right;
          "
          >Thêm</a
        >
      </div>

      <!-- Bảng hiển thị danh sách -->
      <div>
        <table id="table_id" style="width: 100%; border-collapse: collapse">
          <thead>
            <tr>
              <th style="border: 1px solid black; padding: 8px">ID</th>
              <th style="border: 1px solid black; padding: 8px">First Name</th>
              <th style="border: 1px solid black; padding: 8px">Last Name</th>
              <th style="border: 1px solid black; padding: 8px">Email</th>
              <th style="border: 1px solid black; padding: 8px">Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Dữ liệu sẽ được thêm vào đây bởi JavaScript -->
          </tbody>
        </table>
      </div>
    </div>

    <script src="app.js"></script>
    <!-- Kết nối với file JavaScript chứa logic xử lý -->
    <script>
      // Kiểm tra xem có thông báo thành công trong URL không
      const urlParams = new URLSearchParams(window.location.search); // Lấy các tham số từ URL
      const successMessage = urlParams.get('success'); // Lấy giá trị của tham số 'success'
      const alertContainer = document.getElementById('alertContainer'); // Lấy phần tử chứa thông báo thành công

      // Định nghĩa thông báo cho mỗi hành động
      const messages = {
        add: 'Thêm thành công!', // Thông báo khi thêm nhân viên thành công
        edit: 'Cập nhật thành công!', // Thông báo khi cập nhật thông tin nhân viên thành công
        delete: 'Xóa thành công!', // Thông báo khi xóa nhân viên thành công
      };

      // Hiển thị thông báo nếu tham số success tồn tại
      if (successMessage && messages[successMessage]) {
        alertContainer.style.display = 'block'; // Hiện khối thông báo
        alertContainer.textContent = messages[successMessage]; // Đặt thông điệp vào khối thông báo
        alertContainer.style.backgroundColor = 'lightgreen'; // Màu nền cho khối thông báo
        alertContainer.style.color = 'green'; // Màu chữ cho khối thông báo
      }
    </script>
  </body>
</html>
